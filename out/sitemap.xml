// app/sitemap.xml/route.ts
import { NextResponse } from 'next/server'

const BASE_URL = 'https://hodashineservices.com'

function generateSiteMap() {
  const pages = [
    '',
    'about',
    'services',
    'contact',
    'terms',
    'privacy'
    // add more pages or generate from CMS / database
  ]

  return `<?xml version="1.0" encoding="UTF-8"?>
  <urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
    ${pages
      .map((path) => {
        const url = `${BASE_URL}/${path}`.replace(/\/+$/, '')
        return `<url>
          <loc>${url}</loc>
          <changefreq>weekly</changefreq>
          <priority>0.8</priority>
        </url>`
      })
      .join('')}
  </urlset>`
}

export async function GET() {
  const sitemap = generateSiteMap()
  return new NextResponse(sitemap, {
    status: 200,
    headers: { 'Content-Type': 'application/xml' },
  })
}
